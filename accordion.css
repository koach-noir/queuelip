/* アコーディオンの基本スタイル */
details {
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    overflow: hidden;
}

summary {
    padding: 10px 15px;
    background-color: #f5f5f5;
    cursor: pointer;
    font-weight: bold;
    position: relative;
}

summary:hover {
    background-color: #eaeaea;
}

summary::marker {
    display: none;
}

summary::-webkit-details-marker {
    display: none;
}

summary::after {
    content: "▼";
    position: absolute;
    right: 15px;
    transition: transform 0.3s;
}

details[open] summary::after {
    transform: rotate(180deg);
}

/* アコーディオンの中身のスタイル */
.details-content {
    transition: height 0.4s, opacity 0.4s, content-visibility 0.4s;
    height: 0;
    opacity: 0;
    overflow: clip;
    background-color: #f0f2ff;
    padding: 0 15px;
}

details[open] .details-content {
    height: auto;
    opacity: 1;
    padding: 15px;
}

/* @supports 対応 - interpolate-size がサポートされている場合 */
@supports (interpolate-size: allow-keywords) {
    :root {
        interpolate-size: allow-keywords; /* height:0 (数値型) → auto (キーワード型) */
    }

    details[open] .details-content {
        height: auto;
    }
}

/* @supports 非対応 - interpolate-size がサポートされていない場合 */
@supports not (interpolate-size: allow-keywords) {
    details[open] .details-content {
        /* max-height を使った代替アニメーション */
        max-height: 1000px; /* コンテンツの最大高さに応じて調整 */
        transition: max-height 0.4s ease-in-out, opacity 0.4s;
    }
}

/* ダークモード対応 */
@media (prefers-color-scheme: dark) {
    details {
        border-color: #555;
    }
    
    summary {
        background-color: #444;
        color: #f0f0f0;
    }
    
    summary:hover {
        background-color: #555;
    }
    
    .details-content {
        background-color: #333;
        color: #f0f0f0;
    }
}